TODO for self-hosting
================
[x] subtraction
[x] make 1-2 work (make -2 be parsed as - 2)
[x] handle negative literals: -2
[x] preamble while
[x] make `ret` not compile into a function call
[x] if-else
[x] array indexing
[x] array literals
[x] and
[x] or
[x] quoted table access
[x] output a compiler program
[x] not
[x] multiplication
[x] division
[x] call a function with no arguments
[x] multi-if
[x] fix normalize in arrays
[x] fix ``` multiple times
[x] add 'single quote strings'
[ ] fix empty array literal
[ ] allow escaping "s in strings
[ ] add `throw`

TODO to make usable
[ ] have `if` check for `else` or `if` in incorrect positions
[ ] regexes
[ ] preamble for
[ ] `rewrite@(node.type) (node)` syntax doesn't work
[ ] multi-line statements (skip newline parse in `(`)
[ ] what to do about multi-line function calls
[ ] what to do about commas
[ ] array literals with commas
[ ] single line lambdas auto-return
[ ] add an errors compiler pass
[ ] enforce mutable/mutate
[ ] enforce const
[ ] return from outer block
[ ] keywords and/or useable as table keys

TODO to make everyone happy
================
[ ] lazy if-else?
[ ] dashes in table field names?
[ ] macros
[ ] source maps
[ ] destructuring
[ ] pattern matching
[ ] figure out what to do with all the parens?
